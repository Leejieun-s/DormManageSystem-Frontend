{"remainingRequest":"D:\\SpringProject\\dormitory\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\SpringProject\\dormitory\\vue\\src\\views\\RoomInfo.vue?vue&type=style&index=0&id=4ba8c9e3&scoped=true&lang=css","dependencies":[{"path":"D:\\SpringProject\\dormitory\\vue\\src\\views\\RoomInfo.vue","mtime":1663038904000},{"path":"D:\\SpringProject\\dormitory\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1663039140000},{"path":"D:\\SpringProject\\dormitory\\vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1663039144000},{"path":"D:\\SpringProject\\dormitory\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1663039142000},{"path":"D:\\SpringProject\\dormitory\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663039140000},{"path":"D:\\SpringProject\\dormitory\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1663039142000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:QGltcG9ydCAnLi4vYXNzZXRzL2Nzcy9Sb29tSW5mby5jc3MnOw=="},{"version":3,"sources":["D:\\SpringProject\\dormitory\\vue\\src\\views\\RoomInfo.vue"],"names":[],"mappings":"AA8RA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/SpringProject/dormitory/vue/src/views/RoomInfo.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator-icon=\"ArrowRight\" style=\"margin: 16px\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>宿舍管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>房间信息</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card style=\"margin: 15px; min-height: calc(100vh - 111px)\">\r\n      <div>\r\n        <!--    功能区-->\r\n        <div style=\"margin: 10px 0\">\r\n          <!--    搜索区-->\r\n          <div style=\"margin: 10px 0\">\r\n            <el-input v-model=\"search\" clearable placeholder=\"请输入房间号\" prefix-icon=\"Search\" style=\"width: 20%\"/>\r\n            <el-button icon=\"Search\" style=\"margin-left: 5px\" type=\"primary\" @click=\"load\"></el-button>\r\n            <el-button icon=\"refresh-left\" style=\"margin-left: 10px\" type=\"default\" @click=\"reset\"></el-button>\r\n            <div style=\"float: right\">\r\n              <el-tooltip content=\"添加\" placement=\"top\">\r\n                <el-button icon=\"plus\" style=\"width: 50px\" type=\"primary\" @click=\"add\"></el-button>\r\n              </el-tooltip>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--    表格-->\r\n        <el-table v-loading=\"loading\" :data=\"tableData\" border max-height=\"705\" style=\"width: 100%\">\r\n          <el-table-column label=\"#\" type=\"index\"/>\r\n          <!-- 床位展开-->\r\n          <el-table-column type=\"expand\">\r\n            <template #default=\"props\">\r\n              <el-form inline label-position=\"left\">\r\n                <el-form-item label=\"一号床位\" class=\"item\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag v-if=\"props.row.firstBed != null\" disable-transitions type=\"primary\"\r\n                    >{{ props.row.firstBed }}\r\n                    </el-tag>\r\n                    <div class=\"el-form--inline-icon\">\r\n                      <el-icon v-if=\"props.row.firstBed == null\" @click=\"plusIcon(1, props.row)\">\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <div v-if=\"props.row.firstBed != null\" class=\"el-form--inline-icon\">\r\n                        <el-icon @click=\"detailIcon(1, props.row)\">\r\n                          <more-filled/>\r\n                        </el-icon>\r\n                        <el-icon @click=\"editIcon(1, props.row)\">\r\n                          <edit/>\r\n                        </el-icon>\r\n                        <el-popconfirm title=\"确认删除？\" @confirm=\"deleteStuBed(1, props.row)\">\r\n                          <template #reference>\r\n                            <el-icon>\r\n                              <delete/>\r\n                            </el-icon>\r\n                          </template>\r\n                        </el-popconfirm>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"二号床位\" class=\"item\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag v-if=\"props.row.secondBed != null\" disable-transitions type=\"primary\"\r\n                    >{{ props.row.secondBed }}\r\n                    </el-tag>\r\n                    <div class=\"el-form--inline-icon\">\r\n                      <el-icon v-if=\"props.row.secondBed == null\" @click=\"plusIcon(2, props.row)\">\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <div v-if=\"props.row.secondBed != null\" class=\"el-form--inline-icon\">\r\n                        <el-icon @click=\"detailIcon(2, props.row)\">\r\n                          <more-filled/>\r\n                        </el-icon>\r\n                        <el-icon @click=\"editIcon(2, props.row)\">\r\n                          <edit/>\r\n                        </el-icon>\r\n                        <el-popconfirm title=\"确认删除？\" @confirm=\"deleteStuBed(2, props.row)\">\r\n                          <template #reference>\r\n                            <el-icon>\r\n                              <delete/>\r\n                            </el-icon>\r\n                          </template>\r\n                        </el-popconfirm>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"三号床位\" class=\"item\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag v-if=\"props.row.thirdBed != null\" disable-transitions type=\"primary\"\r\n                    >{{ props.row.thirdBed }}\r\n                    </el-tag>\r\n                    <div class=\"el-form--inline-icon\">\r\n                      <el-icon v-if=\"props.row.thirdBed == null\" @click=\"plusIcon(3, props.row)\">\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <div v-if=\"props.row.thirdBed != null\" class=\"el-form--inline-icon\">\r\n                        <el-icon @click=\"detailIcon(3, props.row)\">\r\n                          <more-filled/>\r\n                        </el-icon>\r\n                        <el-icon @click=\"editIcon(3, props.row)\">\r\n                          <edit/>\r\n                        </el-icon>\r\n                        <el-popconfirm title=\"确认删除？\" @confirm=\"deleteStuBed(3, props.row)\">\r\n                          <template #reference>\r\n                            <el-icon>\r\n                              <delete/>\r\n                            </el-icon>\r\n                          </template>\r\n                        </el-popconfirm>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"四号床位\" class=\"item\">\r\n                  <template #default=\"scope\">\r\n                    <el-tag v-if=\"props.row.fourthBed != null\" disable-transitions type=\"primary\"\r\n                    >{{ props.row.fourthBed }}\r\n                    </el-tag>\r\n                    <div class=\"el-form--inline-icon\">\r\n                      <el-icon v-if=\"props.row.fourthBed == null\" @click=\"plusIcon(4, props.row)\">\r\n                        <plus/>\r\n                      </el-icon>\r\n                      <div v-if=\"props.row.fourthBed != null\" class=\"el-form--inline-icon\">\r\n                        <el-icon @click=\"detailIcon(4, props.row)\">\r\n                          <more-filled/>\r\n                        </el-icon>\r\n                        <el-icon @click=\"editIcon(4, props.row)\">\r\n                          <edit/>\r\n                        </el-icon>\r\n                        <el-popconfirm title=\"确认删除？\" @confirm=\"deleteStuBed(4, props.row)\">\r\n                          <template #reference>\r\n                            <el-icon>\r\n                              <delete/>\r\n                            </el-icon>\r\n                          </template>\r\n                        </el-popconfirm>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </el-form-item>\r\n              </el-form>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"房间号\" prop=\"dormRoomId\" sortable/>\r\n          <el-table-column label=\"楼栋号\" prop=\"dormBuildId\" sortable/>\r\n          <el-table-column label=\"楼层\" prop=\"floorNum\" sortable/>\r\n          <el-table-column label=\"最多可住人数\" prop=\"maxCapacity\"/>\r\n          <el-table-column\r\n              :filter-method=\"filterTag\"\r\n              :filters=\"[\r\n              { text: 0, value: 0 },\r\n              { text: 1, value: 1 },\r\n              { text: 2, value: 2 },\r\n              { text: 3, value: 3 },\r\n              { text: 4, value: 4 },\r\n            ]\"\r\n              filter-placement=\"bottom-end\"\r\n              label=\"已住人数\"\r\n              prop=\"currentCapacity\"\r\n              sortable\r\n          />\r\n          <!--      操作栏-->\r\n          <el-table-column label=\"操作\" width=\"130px\">\r\n            <template #default=\"scope\">\r\n              <el-button icon=\"Edit\" type=\"primary\" @click=\"handleEdit(scope.row)\"\r\n              ></el-button>\r\n              <el-popconfirm title=\"确认删除？\" @confirm=\"handleDelete(scope.row.dormRoomId)\">\r\n                <template #reference>\r\n                  <el-button icon=\"Delete\" type=\"danger\"></el-button>\r\n                </template>\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <div style=\"margin: 10px 0\">\r\n          <el-pagination\r\n              v-model:currentPage=\"currentPage\"\r\n              :page-size=\"pageSize\"\r\n              :page-sizes=\"[10, 20]\"\r\n              :total=\"total\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n        <!--      弹窗-->\r\n        <div>\r\n          <el-dialog v-model=\"dialogVisible\" title=\"操作\" width=\"30%\" @close=\"cancel\">\r\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\r\n              <el-form-item label=\"楼栋号\" prop=\"dormBuildId\">\r\n                <el-input v-model.number=\"form.dormBuildId\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"楼层数\" prop=\"floorNum\">\r\n                <el-input v-model.number=\"form.floorNum\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"房间号\" prop=\"dormRoomId\">\r\n                <el-input v-model.number=\"form.dormRoomId\" :disabled=\"disabled\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"最多可住人数\" prop=\"maxCapacity\">\r\n                <el-input v-model.number=\"form.maxCapacity\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"已住人数\" prop=\"currentCapacity\">\r\n                <el-input v-model.number=\"form.currentCapacity\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <template #footer>\r\n              <span class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n              </span>\r\n            </template>\r\n          </el-dialog>\r\n          <!-- 床位 弹窗-->\r\n          <el-dialog v-model=\"bedDialog\" title=\"操作\" width=\"30%\" @close=\"cancel\">\r\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\r\n              <el-form-item label=\"楼栋号\" prop=\"dormBuildId\">\r\n                <el-input v-model.number=\"form.dormBuildId\" disabled=\"true\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"楼层数\" prop=\"floorNum\">\r\n                <el-input v-model.number=\"form.floorNum\" disabled=\"true\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"房间号\" prop=\"dormRoomId\">\r\n                <el-input v-model.number=\"form.dormRoomId\" disabled=\"true\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"this.bedNum === 1\" label=\"床位(一)\" prop=\"firstBed\">\r\n                <el-input v-model.number=\"form.firstBed\" placeholder=\"请输入学号\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"this.bedNum === 2\" label=\"床位(二)\" prop=\"secondBed\">\r\n                <el-input v-model.number=\"form.secondBed\" placeholder=\"请输入学号\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"this.bedNum === 3\" label=\"床位(三)\" prop=\"thirdBed\">\r\n                <el-input v-model.number=\"form.thirdBed\" placeholder=\"请输入学号\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"this.bedNum === 4\" label=\"床位(四)\" prop=\"fourthBed\">\r\n                <el-input v-model.number=\"form.fourthBed\" placeholder=\"请输入学号\" style=\"width: 80%\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <template #footer>\r\n              <span class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button v-if=\"this.judge === false\" type=\"primary\" @click=\"addStuBed\">确 定</el-button>\r\n                <el-button v-if=\"this.judge === true\" type=\"primary\" @click=\"editStuBed\">确 定</el-button>\r\n              </span>\r\n            </template>\r\n          </el-dialog>\r\n          <!-- 学生信息弹窗-->\r\n          <el-dialog v-model=\"stuInfoDialog\" title=\"学生信息\" width=\"20%\" @close=\"cancel\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\r\n              <el-form-item label=\"学号：\" prop=\"username\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.username }}</span>\r\n                </template>\r\n              </el-form-item>\r\n              <el-form-item label=\"姓名：\" prop=\"name\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.name }}</span>\r\n                </template>\r\n              </el-form-item>\r\n              <el-form-item label=\"年龄：\" prop=\"age\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.age }}</span>\r\n                </template>\r\n              </el-form-item>\r\n              <el-form-item label=\"性别：\" prop=\"gender\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.gender }}</span>\r\n                </template>\r\n              </el-form-item>\r\n              <el-form-item label=\"手机号：\" prop=\"phoneNum\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.phoneNum }}</span>\r\n                </template>\r\n              </el-form-item>\r\n              <el-form-item label=\"邮箱地址：\" prop=\"email\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ form.email }}</span>\r\n                </template>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-dialog>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script src=\"@/assets/js/RoomInfo.js\"></script>\r\n<style scoped>@import '../assets/css/RoomInfo.css';</style>"]}]}